<div class="container">
    <fieldset>
      <legend class="mt-5 d-flex justify-content-center">Incident Report Form</legend>
      <form [formGroup]="userForm" (ngSubmit)="submitForm()">

        <div class="form-group mt-3">
            <label for="badge_id">First Responder Badge ID</label>
            <input
              type="text"
              class="form-control"
              id="badge_id"
              formControlName="badge_id"
              required
            />
            <small class="text-danger" *ngIf="userForm.get('badge_id')?.invalid && userForm.get('badge_id')?.dirty">Please Enter a Valid Badge ID</small>
          </div>

           <!-- Dropdown -->
        <div class="row mt-3">
            <label for="department">First Responder Department</label>
            <mat-form-field>
              <mat-label>Department</mat-label>
              <mat-select formControlName="department" id="department" >
                <mat-option
                  *ngFor="let data of department"
                  [value]="data.value"
                  type="button"
                >
                  {{ data.viewValue }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

        <div class="form-group mt-3">
          <label for="fName">Student First Name</label>
          <input
            type="text"
            class="form-control"
            id="fName"
            formControlName="fName"
            required
          />
          <small class="text-danger" *ngIf="userForm.get('fName')?.invalid && userForm.get('fName')?.dirty">Please enter a valid first name</small>
        </div>

        <div class="form-group mt-3">
          <label for="lName">Student Last Name</label>
          <input
            type="text"
            class="form-control "
            id="lName"
            formControlName="lName"
            required
          />
          <small class="text-danger" *ngIf="userForm.get('lName')?.invalid && userForm.get('lName')?.dirty">Please enter a valid last name</small>
        </div>
        
        <div class="row mt-3">
            <label for="district">Student County</label>
            <mat-form-field>
              <mat-label>County</mat-label>
              <mat-select formControlName="county" id="county">
                <mat-option
                  *ngFor="let data of county"
                  [value]="data.id"
                  type="button"
                >
                  {{ data.county_name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

        <div class="row mt-3">
            <label for="district">Student District</label>
            <mat-form-field>
              <mat-label>District</mat-label>
              <mat-select formControlName="district" id="district">
                <mat-option
                  *ngFor="let data of district"
                  [value]="data.id"
                  type="button"
                >
                  {{ data.name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="row mt-3">
            <label for="district">Student School</label>
            <mat-form-field>
              <mat-label>School</mat-label>
              <mat-select formControlName="school" id="school">
                <mat-option
                  *ngFor="let data of school"
                  [value]="data.school_id"
                  type="button"
                >
                  {{ data.school_name }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        
        <div class="mt-3" aria-required="true">
          <label for="cereal">Emergency Options</label>
          <section class="example-section">
            <span class="example-list-section">
              <mat-checkbox id='cereal' *ngFor="let data of cereal" type="button" (click)="toggleCerealSelection(data.id)" [checked]="isCerealSelected(data.id)">
                {{ data.name }}
              </mat-checkbox>
              <div *ngIf="isCerealInvalid()" class="text-danger mt-3">Required</div>
            </span>
          </section>
        </div>

        <div class="mt-3">
            <textarea placeholder="*Optional"></textarea>
        </div>
  
        <div class="d-flex justify-content-center">
        <button
          type="submit"
          class="btn mt-5 mb-5"
          [disabled]="!userForm.valid"
          (click)="submitForm()"
        >
          Submit
        </button>
        </div>
      </form>
    </fieldset>
  </div>
  